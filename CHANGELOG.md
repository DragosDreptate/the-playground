# Changelog

Les Ã©volutions du Playground, jour aprÃ¨s jour.

> Ce projet est construit avec [Claude Code](https://claude.ai/claude-code) (Anthropic).

<!-- Release notes generated by release-please. Do not edit this section manually. -->

## [Unreleased]

---

## [1.7.0] â€” 2026-02-28 â€” Support multilingue ES / RO / NL

### AjoutÃ©

- **Espagnol (ES)** : traduction complÃ¨te de l'interface (576 clÃ©s)
- **Roumain (RO)** : traduction complÃ¨te de l'interface (576 clÃ©s)
- **NÃ©erlandais (NL)** : traduction complÃ¨te de l'interface (576 clÃ©s)
- Le sÃ©lecteur de langue propose dÃ©sormais 5 langues : FR, EN, ES, RO, NL

### CorrigÃ©

- **Hero roumain** : texte ajustÃ© â€” Â« OrganizeazÄƒ evenimente. Â» et Â« AnimÄƒ colectivul. Â»
- **Dashboard roumain** : Â« Panou Â» remplacÃ© par Â« Tablou de bord Â» (4 occurrences)
- **Page Ã€ propos** : mise Ã  jour des types d'Ã©vÃ©nements organisÃ©s (produit, agile)

---

## [1.6.0] â€” 2026-02-28 â€” Mode switcher Participant / Organisateur

### AjoutÃ©

- **Mode switcher dashboard** : pill switcher Participant / Organisateur dans Â« Mon espace Â»
  - Mode Participant : Ã©vÃ©nements auxquels on est inscrit, toutes ses CommunautÃ©s
  - Mode Organisateur : Ã©vÃ©nements organisÃ©s (badge ğŸ‘‘ + compteur d'inscrits), CommunautÃ©s hostÃ©es, CTAs crÃ©ation
  - Le mode est persistÃ© en base et mÃ©morisÃ© entre les sessions
- **Page welcome** : choix du mode au premier accÃ¨s (Â« Je participe Â» / Â« J'organise Â»)
- **Backfill production** : migration des utilisateurs existants (22 organisateurs â†’ ORGANIZER, 26 â†’ PARTICIPANT)

### CorrigÃ©

- **Auth OAuth Vercel preview** : `trustHost: true` dans la config Auth.js v5 â€” rÃ©sout l'erreur Â« Authentication error Â» sur les URLs preview dynamiques
- **Badge Organisateur** : en mode Participant, les Ã©vÃ©nements des CommunautÃ©s hostÃ©es affichent dÃ©sormais le badge ğŸ‘‘ Organisateur au lieu de Â« Inscrit Â»

---

## [1.5.0] â€” 2026-02-26 â€” Notifications & qualitÃ©

### AjoutÃ©

- **Email Organisateur** : confirmation Ã  la crÃ©ation d'un Ã©vÃ©nement (avec ICS en piÃ¨ce jointe)
- **Email Organisateur** : notification lors d'un nouveau follower de la CommunautÃ©
- **Email participants** : notification d'annulation lors de la suppression d'un Ã©vÃ©nement
- **Boutons calendrier** : "Ajouter au calendrier" disponible pour l'Organisateur (Google, Apple, ICS)
- **Export CSV** : export des inscrits depuis la vue Organisateur (colonnes prÃ©nom, nom, email, statut, date)
- **Commentaires** : formulaire activÃ© sur les Ã©vÃ©nements passÃ©s (pic d'engagement post-event)
- **Page Ã©vÃ©nement** : prochains Ã©vÃ©nements du Circle affichÃ©s en bas de page (rÃ©tention)
- **Lien Mon espace** : ajoutÃ© dans l'email de confirmation d'inscription pour guider les nouveaux membres

### CorrigÃ©

- **ICS â€” date invalide** : validation cÃ´tÃ© formulaire empÃªchant une date de fin antÃ©rieure Ã  la date de dÃ©but
- **ICS â€” cache** : `revalidatePath` ajoutÃ© aprÃ¨s create/update/delete â€” la page publique se rafraÃ®chit immÃ©diatement
- **Erreurs email** : capturÃ©es dans Sentry (permet d'alerter en cas de quota Resend dÃ©passÃ©)
- **iOS Chrome** : `RangeError: Invalid Date` sur la crÃ©ation d'Ã©vÃ©nement Ã  minuit â€” guard ajoutÃ© dans `combineDateAndTime`
- **Page d'erreur globale** : amÃ©lioration du rendu et du message

---

## [1.4.0] â€” 2026-02-26 â€” Performance & Admin enrichi

### AmÃ©liorÃ©

- **Dashboard** : streaming Suspense â€” FCP rÃ©duit de ~3.5 s Ã  <0.5 s grÃ¢ce Ã  `loading.tsx` + `<Suspense>` interne
  - Squelette instantanÃ© Ã  la navigation, donnÃ©es streamÃ©es en arriÃ¨re-plan
  - `shouldRedirectToWelcome` extrait en fonction pure (testable, 10 cas couverts)
- **Audit perf** : corrections N+1, transactions atomiques, ISR et parallÃ©lisation des requÃªtes

### AjoutÃ©

- **Admin â€” Commentaires** : compteur global (stats dashboard) + dÃ©tail par Ã©vÃ©nement (liste + fiche)

---

## [1.3.0] â€” 2026-02-26 â€” PWA & Notifications Ã©vÃ©nement

### AjoutÃ©

- Support **Progressive Web App** : installable sur iOS (Safari) et Android (Chrome)
  - IcÃ´nes haute rÃ©solution (192Ã—512px), manifest, service worker
  - Landing page : section Â« TÃ©lÃ©charger l'app Â» avec badges iOS/Android et instructions pas-Ã -pas
  - Mode standalone : redirection automatique vers le dashboard, logo adaptÃ© (plus de flash landing)
- Notifications email aux participants en cas de **changement de date, heure ou lieu** d'un Ã©vÃ©nement
  - Email avec les modifications mises en Ã©vidence + nouvelle invitation calendrier (ICS)
- Footer : affichage de la **version de l'app** Ã  cÃ´tÃ© du copyright

### CorrigÃ©

- ICS : dÃ©calage horaire corrigÃ© dans `combineDateAndTime` (heure locale â†’ UTC)
- Formatage des dates : centralisation via `Intl` + fuseau `Europe/Paris` (supprime les erreurs SSR/hydration)
- Sentry : capture des erreurs inattendues cÃ´tÃ© serveur (unexpected response + hydration)
- Config : `bodySizeLimit` des Server Actions augmentÃ© Ã  4 Mo
- i18n : bouton Â« Publier Â» sur le formulaire Ã©vÃ©nement (Ã©tait Â« Submit Â»)

---

## [1.2.0] â€” 2026-02-25 â€” PrÃ©fÃ©rences de notifications

### AjoutÃ©

- Page Profil : tab **Notifications** avec 4 toggles opt-out (tout activÃ© par dÃ©faut)
  - En tant qu'Organisateur : nouvelle inscription, nouveau commentaire, nouveau follower
  - En tant que Participant : nouvel Ã©vÃ©nement dans une CommunautÃ© suivie
- Guards email : les notifications respectent les prÃ©fÃ©rences de chaque destinataire
- Script `pnpm db:backfill-notification-prefs` â€” correction des valeurs pour les users existants

---

## [1.1.0] â€” 2026-02-25 â€” Polish & sÃ©curitÃ©

### AjoutÃ©

- Explorer : pagination "Voir plus" â€” chargement par batch de 12 CommunautÃ©s ou Ã©vÃ©nements
- Page CommunautÃ© dashboard : section lien partageable pour les Organisateurs (avec copie en un clic)
- Liste des membres et des inscrits : vue verticale 1 par ligne, badge Organisateur avec couronne, "Voir plus" Ã  partir de 10
- Navigation : mise en Ã©vidence de la page active dans le header et le menu mobile
- Authentification : icÃ´nes Google et GitHub sur les boutons OAuth
- Page Ã€ propos : section "Le code" avec lien vers le dÃ©pÃ´t GitHub

### CorrigÃ©

- Covers des Ã©vÃ©nements absentes de la timeline publique d'une CommunautÃ©
- Hydration error sur les dates du dashboard
- NotFoundError iOS Safari sur les menus dÃ©roulants (Select)
- Layout mobile Explorer et Dashboard
- Google Maps : migration vers Embed API v1

### SÃ©curitÃ©

- Corrections SAST : SSRF, auth guard, CSP, HSTS
- CSP : autorisation des sous-domaines Vercel Blob et Google Maps
- DAST OWASP ZAP : scan baseline prod + scan full sur les previews PRs

---

## [1.0.0] â€” 2026-02-24 â€” Release majeure

### AjoutÃ©

- Dashboard "Mes CommunautÃ©s" : cartes style Explorer â€” cover 1:1, catÃ©gorie, badge rÃ´le, stats membres/Ã©vÃ©nements, prochain Ã©vÃ©nement, bouton "CrÃ©er un Ã©vÃ©nement" pour les Organisateurs
- Type domaine `DashboardCircle` + usecase `getUserDashboardCircles` + requÃªte repository unique (sans N+1)

### ModifiÃ©

- Dashboard "Mes Ã©vÃ©nements" : couverture dÃ©placÃ©e Ã  gauche (64px), titre sur 2 lignes, badge alignÃ© Ã  droite
- Explorer : refonte cartes Ã©vÃ©nement â€” cover 1:1, alignement sur les cartes CommunautÃ©, badges Organisateur / Inscrit / Liste d'attente, grille 3 colonnes
- SÃ©lecteur d'image de couverture : corrections mobiles iOS Safari (plein Ã©cran, grille 2 colonnes)

### CorrigÃ©

- Optimisations SQL : count cÃ´tÃ© base + `take: 1` sur les moments Ã  venir (suppression du sur-fetching)

---

## [0.10.0] â€” 2026-02-23 â€” Ã€ propos & Changelog

### AjoutÃ©

- Page Ã€ propos â€” histoire du projet, le problÃ¨me, la rÃ©ponse, oÃ¹ on en est
- Page Changelog â€” timeline des versions, mise Ã  jour automatique Ã  chaque release
- Automatisation des releases (release-please)

---

## [0.9.0] â€” 2026-02-23 â€” Polish & terminologie

### AjoutÃ©

- Page de bienvenue pour les nouveaux utilisateurs aprÃ¨s onboarding

### ModifiÃ©

- Terminologie FR simplifiÃ©e : Cercle â†’ CommunautÃ©, Escale â†’ Ã©vÃ©nement, Mon Playground â†’ Mon espace
- Section d'inscription repensÃ©e : bouton S'inscrire + compteur de places sur une mÃªme ligne
- Badges de rÃ´le et de statut harmonisÃ©s sur toutes les vues

---

## [0.8.0] â€” 2026-02-21 â€” Finition produit

### AjoutÃ©

- Upload d'avatar sur le profil (avec protection OAuth)
- Suppression de compte depuis la page profil
- Boutons "Ajouter au calendrier" aprÃ¨s inscription (Google Calendar + .ics)
- Position dans la liste d'attente affichÃ©e sur la page Ã©vÃ©nement
- Pages lÃ©gales (mentions lÃ©gales, confidentialitÃ©, CGU)
- SEO & OpenGraph â€” images dynamiques, sitemap, robots.txt
- Design responsive mobile complet

---

## [0.7.0] â€” 2026-02-21 â€” Emails transactionnels

### AjoutÃ©

- Confirmation d'inscription par email
- Email de confirmation liste d'attente
- Email de promotion liste d'attente ("une place s'est libÃ©rÃ©e !")
- Notification Ã  l'organisateur Ã  chaque nouvelle inscription
- PiÃ¨ce jointe .ics dans les emails de confirmation

---

## [0.6.0] â€” 2026-02-21 â€” Admin plateforme

### AjoutÃ©

- Tableau de bord admin avec statistiques (utilisateurs, communautÃ©s, Ã©vÃ©nements, inscriptions)
- Gestion des utilisateurs, communautÃ©s et Ã©vÃ©nements (recherche, dÃ©tail, suppression)
- PossibilitÃ© de forcer l'annulation d'un Ã©vÃ©nement

---

## [0.5.0] â€” 2026-02-21 â€” DÃ©couverte publique

### AjoutÃ©

- Page DÃ©couvrir â€” rÃ©pertoire public de CommunautÃ©s et d'Ã©vÃ©nements, filtrable par catÃ©gorie
- Pages CommunautÃ© publiques, accessibles sans compte
- Page d'accueil avec prÃ©sentation du produit

---

## [0.4.0] â€” 2026-02-21 â€” Design premium

### ModifiÃ©

- Dashboard redesignÃ© : timeline unifiÃ©e Ã  venir / passÃ©s, Ã©tats vides avec appel Ã  l'action
- Page CommunautÃ© redesignÃ©e : 2 colonnes, toggle Ã€ venir / PassÃ©s
- Page Profil redesignÃ©e : avatar, stats, mÃ©tadonnÃ©es
- Liste des membres : Organisateurs en premier, emails visibles pour les Organisateurs uniquement

---

## [0.3.0] â€” 2026-02-21 â€” Engagement

### AjoutÃ©

- Fil de commentaires sur chaque Ã©vÃ©nement
- AutocomplÃ©tion d'adresse (API BAN) dans le formulaire Ã©vÃ©nement
- Ã‰vÃ©nements annulÃ©s visibles dans la timeline de la CommunautÃ©

---

## [0.2.0] â€” 2026-02-20 â€” Parcours complet

### AjoutÃ©

- Inscriptions : s'inscrire, annuler, consulter la liste des participants
- Liste d'attente avec promotion automatique sur dÃ©sistement
- Rejoindre un Ã©vÃ©nement inscrit automatiquement Ã  la CommunautÃ©
- Tableau de bord : "Mes prochains Ã©vÃ©nements" et "Mes CommunautÃ©s"
- Profil utilisateur et onboarding au premier login

---

## [0.1.0] â€” 2026-02-19 â€” Fondations

### AjoutÃ©

- CrÃ©ation et gestion de CommunautÃ©s et d'Ã©vÃ©nements
- Page Ã©vÃ©nement publique et partageable (`/m/[slug]`)
- Authentification â€” Magic link + Google + GitHub
- Interface bilingue FR / EN
- DÃ©ploiement â€” Vercel (EU) + PostgreSQL serverless (Neon EU)
